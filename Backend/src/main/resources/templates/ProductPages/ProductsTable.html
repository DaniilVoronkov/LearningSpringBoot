<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Products Table</title>
    <!-- include block of code with Jquery and bootstrap -->
    <th:block th:replace="~{contenttoloadoneachpage/frameworksLinks :: stylingAndJsData}"></th:block>
    <link href="/styles/TablePageStyling.css" rel="stylesheet">
</head>
<body>
    <h1 th:text="${ProductClass} + ' Products'"></h1>
    
    
    
    <!-- table with products -->
    <table class="table table-striped table-bordered table-hover">
        <thead class="thead-dark">
            <tr class="headingRow">
                <td>Product Name:</td>
                <td>Price:</td>
                <td>Product Type: </td>
                <td></td>
                <td><a class="btn btn-primary active" th:href="@{AddProductPage}" th:text="'Add ' + ${ProductClass}"></a></td>
            </tr>
        </thead>
        
        
    <!-- at this point Thymeleaf does not know what TeaProduct is, it just expecting from us to pass the object with this name !!! TeaProducts is
     the attribute that we added to the model in the controller-->
    <!-- Basically its like: "for(String s : collectionName){}" in Java -->
        <tbody>
            <tr th:each="Product: ${ProductsList}">
                <td th:text="${Product.getName()}" id="productNameData">Tea Name</td>
                <td th:text="${Product.getPrice()}">Цена</td>
                <td th:text="${Product.getType().getLabel()}">Тип</td>
                <td><a th:href="@{EditProductPage/{id}(id=${Product.getId()})}" class="btn btn-primary active">Edit</a></td>
                <td>
                    
                    <!-- Delete button -->
                    <button id="deleteButton"
                            type="submit"
                            class="btn btn-primary active"
                            th:attr="onclick=| deleteRecord('${ProductClass}' ,'${Product.getId()}')|">Delete</button>
                    
                    <!-- script that deletes the record -->
                    <script th:src="@{/JSScripts/DeleteRecord.js}" defer></script>
                </td>
            </tr>
        </tbody>
</table>
</body>
</html>